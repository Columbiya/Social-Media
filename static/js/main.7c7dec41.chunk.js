(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{107:function(e,t,n){},108:function(e,t,n){},109:function(e,t,n){},110:function(e,t,n){},111:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n(2),c=n.n(a),o=n(39),i=n.n(o),s=n(31),u=(n(78),n(16)),l=n(6),f=n(22),d=n(19),p=n(10),b=n(5),j=n.n(b),h=n(8),O=n(3),g=n(24),m=n(9),x=n(13),v="auth/AUTHORIZE-USER",w="auth/GET_CAPTCHA_URL",_="auth/GET_LOGGED_IN_USER_PROFILE",N={id:null,login:null,email:null,isAuthorized:!1,captchaUrl:null,profile:null},I=function(e,t,n,r){return{type:v,payload:{id:e,login:t,email:n,isAuthorized:r}}},P=function(e){return{type:w,captchaUrl:e}},M=function(){return function(){var e=Object(h.a)(j.a.mark((function e(t){var n,r,a,c,o;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.authorize();case 2:0===(n=e.sent).resultCode&&(r=n.data,a=r.id,c=r.login,o=r.email,t(I(a,c,o,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},E=function(e){return function(){var t=Object(h.a)(j.a.mark((function t(n){var r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.c.getProfile(e);case 2:r=t.sent,n({type:_,profile:r});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},y=function(){return function(){var e=Object(h.a)(j.a.mark((function e(t){var n,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.d.getCaptchaUrl();case 2:n=e.sent,r=n.url,t(P(r));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return Object(O.a)(Object(O.a)({},e),t.payload);case _:return Object(O.a)(Object(O.a)({},e),{},{profile:t.profile});case w:return Object(O.a)(Object(O.a)({},e),{},{captchaUrl:t.captchaUrl});default:return e}},U=n(64),F=n(54),C=[{name:"Nastya",id:1},{name:"Egor",id:2},{name:"Danya",id:3}],k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;return t.type,e},S=n(23),T="users/TOGGLE-FOLLOW-PERSON",G="users/SET-USERS",z="users/HANDLE-PAGES",R="users/TOTAL-COUNT",L="users/TOGGLE-IS-FETCHING",D="users/TOGGLE-FOLLOWING-IN-PROGRESS",W={users:[],totalCount:0,page:1,usersPerPage:4,isFetching:!1,followingInProgress:!1},Y=function(e){return{type:T,userId:e}},B=function(e){return{type:L,isFetching:e}},Z=function(e){return{type:D,isFollowing:e}},H=function(){var e=Object(h.a)(j.a.mark((function e(t,n,r){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(Z(!0)),e.next=3,r(n);case 3:a=e.sent,t(Z(!1)),0===a.resultCode&&t(Y(n));case 6:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T:return Object(O.a)(Object(O.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(O.a)(Object(O.a)({},e),{},{followed:!e.followed}):Object(O.a)({},e)}))});case G:return Object(O.a)(Object(O.a)({},e),{},{users:Object(S.a)(t.users)});case z:return Object(O.a)(Object(O.a)({},e),{},{users:Object(S.a)(e.users),page:t.currentPage});case R:return Object(O.a)(Object(O.a)({},e),{},{totalCount:t.totalCount});case L:return Object(O.a)(Object(O.a)({},e),{},{isFetching:t.isFetching});case D:return Object(O.a)(Object(O.a)({},e),{},{followingInProgress:t.isFollowing});default:return e}},Q="app/SET_INITIALIZATION",V="app/SET_ERROR",X={initialized:!1,globalError:null},q=function(){return{type:Q}},K=function(e){return{type:V,errorState:e}},$=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Q:return Object(O.a)(Object(O.a)({},e),{},{initialized:!0});case V:return Object(O.a)(Object(O.a)({},e),{},{globalError:t.errorState});default:return e}},ee=n(68),te=Object(d.c)({profilePage:F.b,messagesPage:U.a,sidebar:k,usersPage:J,auth:A,app:$}),ne=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||d.d,re=Object(d.e)(te,ne(Object(d.a)(ee.a))),ae=n(51),ce=n.n(ae),oe=n(37),ie=function(e){return Object(r.jsxs)("div",{className:ce.a.friend,children:[Object(r.jsx)("img",{src:oe.a,className:ce.a.picture,alt:"Your friend"}),Object(r.jsx)("p",{children:e.name})]})},se=n(21),ue=n.n(se),le=n(25),fe=n(69),de=n(11),pe=n.n(de),be=function(e){var t=e.Icon,n=e.url,a=e.text,c=e.setMobileMode;return Object(r.jsx)("li",{children:Object(r.jsxs)(f.b,{onClick:function(){return c((function(e){return!e}))},className:ue.a.link,to:n,activeClassName:ue.a.active,children:[Object(r.jsx)(t,{className:ue.a.icon}),a]})})},je=function(e){var t=e.friends.map((function(e){return Object(r.jsx)(ie,{name:e.name},e.id)}));return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)("nav",{className:pe()(ue.a.nav,Object(p.a)({},ue.a.active,e.mobileMode)),children:Object(r.jsxs)("div",{className:ue.a.wrapper,children:[Object(r.jsxs)("ul",{children:[Object(r.jsx)(be,{setMobileMode:e.setMobileMode,Icon:le.d,url:"/profile",text:"Profile"}),Object(r.jsx)(be,{setMobileMode:e.setMobileMode,Icon:le.c,url:"/dialogs",text:"Messages"}),Object(r.jsx)(be,{setMobileMode:e.setMobileMode,Icon:le.g,url:"/users",text:"Users"}),Object(r.jsx)(be,{setMobileMode:e.setMobileMode,Icon:le.f,url:"/news",text:"News"}),Object(r.jsx)(be,{setMobileMode:e.setMobileMode,Icon:le.e,url:"/music",text:"Music"}),Object(r.jsx)(be,{setMobileMode:e.setMobileMode,Icon:fe.a,url:"/settings",text:"Settings"})]}),Object(r.jsxs)("div",{className:ue.a.friendsBlock,children:[Object(r.jsx)("h2",{className:ue.a.friendsTitle,children:"Friends:"}),Object(r.jsx)("div",{className:ue.a.friends,children:t})]})]})})})},he=Object(u.b)((function(e){return{friends:e.sidebar}}),null)(je),Oe=(n(107),function(){return Object(r.jsx)("div",{children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0447\u043a\u0430 MUSIC!"})}),ge=(n(108),function(){return Object(r.jsx)("div",{children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0447\u043a\u0430 NEWS!"})}),me=(n(109),function(){return Object(r.jsx)("div",{children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0447\u043a\u0430 SETTINGS!"})}),xe=n(41),ve=n(42),we=n(43),_e=n(45),Ne=n(44),Ie=n(36),Pe=n(70),Me=n.n(Pe),Ee=n(46),ye=n.n(Ee),Ae=n(17),Ue=function(e){var t=e.isAuthorized&&!e.followingInProgress,n=e.followed?function(){return e.unfollow(e.id)}:function(){return e.follow(e.id)},a=e.followed?"Unfollow":"Follow";return Object(r.jsxs)("div",{className:ye.a.userLeft,children:[Object(r.jsx)(f.b,{to:"/profile/"+e.id,children:Object(r.jsx)("img",{className:ye.a.picture,src:null!=e.photos.small?e.photos.small:oe.a,alt:"person in the box"})}),e.isAuthorized&&Object(r.jsx)(Ae.a,{text:e.followingInProgress?"....":a,className:ye.a.noMargin,onClick:t?n:null})]})},Fe=n(28),Ce=n.n(Fe),ke=function(e){return Object(r.jsxs)("div",{className:Ce.a.userInfo,children:[Object(r.jsxs)("h2",{className:Ce.a.name,children:[" ",e.name," "]}),Object(r.jsxs)("div",{className:Ce.a.location,children:[Object(r.jsxs)("h3",{className:Ce.a.city,children:[" ","country",","]}),Object(r.jsx)("h4",{className:Ce.a.city,children:"city"})]}),Object(r.jsxs)("p",{className:Ce.a.status,children:[" ",e.status," "]})]})},Se=function(e){return Object(r.jsxs)("div",{className:Me.a.user,children:[Object(r.jsx)(Ue,{followed:e.followed,followingInProgress:e.followingInProgress,photos:e.photos,id:e.id,follow:e.follow,unfollow:e.unfollow,isAuthorized:e.isAuthorized}),Object(r.jsx)(ke,{name:e.name,status:e.status})]})},Te=n(71),Ge=n.n(Te),ze=n(26),Re=n.n(ze),Le=function(e){for(var t=e.totalCount,n=e.perPage,c=e.page,o=e.switchPage,i=e.portionSize,u=void 0===i?5:i,l=Math.ceil(t/n),f=[],d=1;d<=l;d++)f.push(d);var b=Math.ceil(l/u),j=Math.ceil(c/u),h=Object(a.useState)(j),O=Object(s.a)(h,2),g=O[0],m=O[1],x=(g-1)*u+1,v=g*u;return Object(r.jsxs)("div",{className:Re.a.sandwichPanel,onMouseDown:function(e){return e.preventDefault()},children:[g>1&&Object(r.jsx)(Ae.a,{className:pe()(Re.a.arrowLeft,Re.a.filled),onClick:function(){return m((function(e){return e-1}))},text:"\u0412\u043b\u0435\u0432\u043e"}),f.filter((function(e){return e>=x&&e<=v})).map((function(e){return Object(r.jsx)("span",{className:pe()(Re.a.pageItem,Object(p.a)({},Re.a.active,e===c)),onClick:function(t){return o(e)},children:e},e)})),g<b&&Object(r.jsx)(Ae.a,{className:pe()(Re.a.filled,Re.a.arrowRight),onClick:function(){return m((function(e){return e+1}))},text:"\u0412\u043f\u0440\u0430\u0432\u043e"})]})},De=function(e){var t=e.totalCount,n=e.usersPerPage,a=e.page,c=e.switchPage,o=e.users,i=Object(Ie.a)(e,["totalCount","usersPerPage","page","switchPage","users"]),s=o.map((function(e){return Object(r.jsx)(Se,{name:e.name,status:e.status,followed:e.followed,followingInProgress:i.followingInProgress,photos:e.photos,id:e.id,follow:i.follow,unfollow:i.unfollow,isAuthorized:i.isAuthorized},e.id)}));return Object(r.jsxs)("div",{className:Ge.a.users,children:[Object(r.jsx)(Le,{totalCount:t,perPage:n,page:a,switchPage:c}),s]})},We=n(30),Ye=n(72),Be=function(e){return e.usersPage.users},Ze=(Object(Ye.a)(Be,(function(e){return e.filter((function(e){return!0}))})),function(e){return e.usersPage.usersPerPage}),He=function(e){return e.usersPage.page},Je=function(e){return e.usersPage.isFetching},Qe=function(e){return e.usersPage.totalCount},Ve=function(e){return e.usersPage.followingInProgress},Xe=function(e){Object(_e.a)(n,e);var t=Object(Ne.a)(n);function n(e){var r;return Object(xe.a)(this,n),(r=t.call(this,e)).switchPage=r.switchPage.bind(Object(we.a)(r)),r}return Object(ve.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.usersPerPage;this.props.requestUsers(e,1)}},{key:"switchPage",value:function(e){var t=this.props.usersPerPage;this.props.requestUsers(t,e)}},{key:"render",value:function(){return this.props.isFetching?Object(r.jsx)(We.a,{}):Object(r.jsx)(De,{totalCount:this.props.totalCount,usersPerPage:this.props.usersPerPage,page:this.props.page,switchPage:this.switchPage,users:this.props.users,toggleFollowingInProgress:this.props.toggleFollowingInProgress,followingInProgress:this.props.followingInProgress,follow:this.props.follow,unfollow:this.props.unfollow,isAuthorized:this.props.isAuthorized})}}]),n}(c.a.Component),qe=Object(d.d)(Object(u.b)((function(e){return{users:Be(e),usersPerPage:Ze(e),page:He(e),isFetching:Je(e),totalCount:Qe(e),followingInProgress:Ve(e),isAuthorized:Object(x.c)(e)}}),{follow:function(e){return function(){var t=Object(h.a)(j.a.mark((function t(n){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:H(n,e,m.b.follow.bind(m.b));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},unfollow:function(e){return function(){var t=Object(h.a)(j.a.mark((function t(n){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:H(n,e,m.b.unfollow.bind(m.b));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},requestUsers:function(e,t){return function(){var n=Object(h.a)(j.a.mark((function n(r){var a;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r({type:z,currentPage:t}),r(B(!0)),n.next=4,m.e.getUsers(e,t);case 4:a=n.sent,r(B(!1)),r((o=a.totalCount,{type:R,totalCount:o})),r((c=a.items,{type:G,users:c}));case 8:case"end":return n.stop()}var c,o}),n)})));return function(e){return n.apply(this,arguments)}}()}}))(Xe),Ke=n(20),$e=n.n(Ke),et=function(e){var t=Object(a.useState)(0),n=Object(s.a)(t,2),c=n[0],o=n[1],i=Object(a.useRef)(null);Object(a.useEffect)((function(){e.isAuthorized&&(o(i.current.clientHeight),i.current.style.height=0)}),[e.isAuthorized]);return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)("header",{className:$e.a.header,children:Object(r.jsx)("div",{className:"container",children:Object(r.jsxs)("div",{className:$e.a.headerContainer,children:[Object(r.jsx)("img",{className:$e.a["app-logo"],src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAiCAYAAAA6RwvCAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA4RpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDE0IDc5LjE1MTQ4MSwgMjAxMy8wMy8xMy0xMjowOToxNSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo5ODg0NmM1NS0zZjBkLTgxNDEtOTRiMy0zMzZkMzA5MWIwOWIiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QjE1M0VBOTYwRUM0MTFFOEFGM0JFREU2MDExOTIwMUUiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QjE1M0VBOTUwRUM0MTFFOEFGM0JFREU2MDExOTIwMUUiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6N2NjOWQ1YmUtZGY1ZS04NDRkLTljZGUtOWIwMWQ5N2E1ZTM5IiBzdFJlZjpkb2N1bWVudElEPSJhZG9iZTpkb2NpZDpwaG90b3Nob3A6MzE3OWQyNTEtNThlOS0xMWU3LTgyNWYtODM4YjRkMDI3NDY5Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+ItZ33wAABmtJREFUeNrEWFtsFGUUPjN7mb33YlsKBTQxVagCQiu2VXvhUi5RNOCT4Q31gfCiifGNxCBqIpc3E4M1GpRLoeVWKIkttUBTDKGJNARJbdBiaQvb7n1nd2dnxm+ml53Z7g1F/ZOT3Zn95/zf+c53zv/PEuU4ZFl2wQYlSeoTRXE3rJz+jwEQ38pJA6B+g30JUI24ZP8LENvk7GMCoE4C1HaY/d8AMV9ZJCMESUq+EwWoHgD6ELbocYBgYB2ZMIjhkBy62pUZpiTdgu0HqKq/C2Rntnz4W76T72/fBERiDtmTJcH94NlUa6UVWHzSXYGPfdnABttPkOjzEn/tci6xMcEzx4/mDATIjeFLFzrw1ZrJa+z2TRI9E+r3QOvh7AzHYiT0XVw59sGOF3MCMvHF7k7/0W8Wy9FIRse+I80JUIO3Sbh3N+P8SH8fMZJExuKSA1mBBM63vhW53lsvCwKFr3aldSqFghQduKEhnSXQnhEI3zGVFWn4Tu3YzrcdaYHw13sLwj+eOyxHePAowfGx9No41wKPkoZ3icLdF0nmwynniw9GSfpzeApzlGfZ4pJDaYGEOtt7YkN3LDPXwu9DJPwxlEakJ+dqQIxTCGBSjVB3e9IN7xv3Xq9h5gCBQF9jrfZljNGkgQm6z7fOcRod6CfJ702RL4kCbd+nFGn4TIuySCKTE2PWoo8P1uiAAEQxPprtG7aQHBd0jsOXOkhNlWb4jzbrwDJGoyYFYypQ7UAFUjwYoqg3iAxKxDjzyLj0eeJeWL0rmZGvYSXmJcvIWLZYHw2Aha90JrCBieitXxI4HE7MiWtEy1Dg1BF9AbT9MO1LpJgnAKGHiKvbgqnMVnTcQtUP2NiBzy0zDzk2b9NFqLASPJ3oQcGzLaowZ38OBogxc9omRJEb10icdE81xpFhio+N6GQZ8/iJW16pXCgPvq/e9fl8nwSDQYpEIqoZahopJkokSLJqcRg/fJf4wV9JROT+C62ELY7UbAMA48oj1/b39OAhwWBH21QajzXrWysYtL6yjlirbZpA5h3lCKEwcnBsdJQU83g8FAa1YmUtheAtCCoDioky3Qe9431XyDPpIZ8gkjcWJx+IidWspUjVy+TBPK+Ae4pFYzR66jh5Hz6kBz1dqp/QtAU9k8TWN1E4HCae55XgSwOBQDmbn5+/32azDcYRbQjM+LxeMry6niRt3pEevrd7qndotCBBxPa1mxGdnWx1TUSoOBComoCG5/7qAAlKW8eNmMIuZyNpwSISFz+tglDAIBtxABljQY3oyst7lzUYpteUSFz4FIXziyiCFM0UnIxIozcTndTgdJGlsoYMTxSr17YmVJygqTg8yCd1ZlkUyLZmU3J1nygrK/OpVeN0OnscDkeb9ldbYxPFELUfAHgAkiRZ3yn9PrI3zWqcTKg283MrgJBNINFqg2XVe4o+tJ0H0tija2iFhYU7zWZzaOba8lL9rK+Y0qiUMhZFwqmDWLuDTIueJK5iuW4xx8Y3p/KSav+3O1WfrM2u3eVPl5SU3NYBMZlM406Xa89skWExrrKaGEOiGpRcK8ILIrfmxs1zFrOsXI1UFaXeJANgcO2mpNOGvDflXlNQULBPEe7MtRUCVPYPXWQoU5E1kLi8ivx+P8UgRu0OrLDCGA36LR5iVhg0l1doUXSAjf6UQJKFy5UvIUNxqR6I2UKW2kZiOIvaV2YqTelBcE7Whg1q288mUsz9LON5JFm4tvr1SE8iQokPQcgbkvY6lDfSpQCKwqUV5c+YTGlFChDdYONq1hOaVrjW6jo1UnUyStZcsQInrNJ0h22KoD8I1Q0UjkTVDpxKpBh7czoqaoXLOlzErapW6Vb2FduajVnPpsbSMpLLl1IA4g6gk3INTVqwfcXFxV05n+K1wrWBaqW7GormkQWM5DKUjque4OYvpGhJGQUgbAEND0A+faTXCa1wuWeWkmHefLI3rFcrI5dhWbZKFbqtbh32Rs7PcdxFk9G4C9poT7leNofj4+Otfp9vK3+5k7jVtcRabFneXBjCgqLRaByggf4B58qqQ67SBb0ITMr4WDYgoHPe/ZGRIfSLtC/WLPQDcY9g8Z8sVmu71Wo9b7FYAo/yVsnkMmlycvKjCbf7c03aFEGHYD+bzOYOlPspLD70T96zcwICgRncbvdNHBXiRoOhC1GfxeJXFB09rn8d/hJgAEkML3WgtnGQAAAAAElFTkSuQmCC",onClick:function(){e.history.push("/profile")},alt:"logo"}),Object(r.jsx)(le.a,{className:$e.a.bars,onClick:function(t){e.setMobileMode((function(e){return!e}))}}),Object(r.jsxs)("nav",{className:$e.a.nav,children:[e.isAuthorized&&Object(r.jsxs)("div",{className:$e.a.user,onClick:function(e){var t=i.current;"0"===t.style.height.split("px")[0]?t.style.height=c+"px":t.style.height=0},onMouseDown:function(e){return e.preventDefault()},children:[Object(r.jsx)("img",{src:e.profilePhoto,className:$e.a.image,alt:"me"}),e.login,Object(r.jsx)("div",{className:pe()($e.a.userPoppingMenu),ref:i,children:Object(r.jsx)("button",{className:$e.a.logout,onClick:function(){e.logout()},children:"Logout"})})]}),!e.isAuthorized&&Object(r.jsx)(f.b,{className:$e.a.login,to:"/login",children:"Login"})]})]})})})})},tt=function(e){Object(_e.a)(n,e);var t=Object(Ne.a)(n);function n(){return Object(xe.a)(this,n),t.apply(this,arguments)}return Object(ve.a)(n,[{key:"render",value:function(){return Object(r.jsx)(et,Object(O.a)({},this.props))}}]),n}(c.a.Component),nt=Object(d.d)(Object(u.b)((function(e){return{isAuthorized:Object(x.c)(e),login:Object(x.d)(e),profilePhoto:Object(x.a)(e)}}),{logout:function(){return function(){var e=Object(h.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.logout();case 2:0===e.sent.resultCode&&t(I(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),l.g)(tt),rt=n(38),at=n(27),ct=n(29),ot=n.n(ct),it=Object(at.b)(30),st=Object(Ae.c)("input"),ut=function(e){var t=e.login,n=e.captchaUrl,a=function(){var e=Object(h.a)(j.a.mark((function e(n){var r,a,c,o;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.email,a=n.password,c=n.rememberMe,o=n.captcha,e.next=3,t(r,a,c,o);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsx)(rt.b,{onSubmit:a,children:function(e){var t=e.submitError,a=e.submitting,c=e.handleSubmit;return Object(r.jsxs)("form",{onSubmit:c,className:ot.a.form,children:[Object(r.jsx)("h1",{className:ot.a.loginTitle,children:"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f"}),Object(Ae.b)("put your login here..",null,"email",st,[at.c,it],"form_login",{type:"text"}),Object(Ae.b)("put your password here..",null,"password",st,[at.c,it],"form_login",{type:"password"}),Object(Ae.b)(null,"Remember me","rememberMe",st,[],"form_login",{type:"checkbox"}),n&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("img",{src:n,alt:"captcha"}),Object(Ae.b)("symbols",null,"captcha",st,[at.c],ot.a.form_element)]}),t&&Object(r.jsx)("p",{className:ot.a.error,children:t}),Object(r.jsx)(Ae.a,{type:"submit",className:pe()(Object(p.a)({},ot.a.disabled,a)),text:"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f",disabled:a})]})}})},lt=Object(u.b)((function(e){return{isAuthorized:Object(x.c)(e),captchaUrl:Object(x.b)(e)}}),{login:function(e,t,n,r){return function(){var a=Object(h.a)(j.a.mark((function a(c,o){var i;return j.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,m.a.login(e,t,n,r);case 2:if(0!==(i=a.sent).resultCode){a.next=10;break}return a.next=6,c(M());case 6:c(E(Object(x.e)(o()))),c(P(null)),a.next=12;break;case 10:return 10===i.resultCode&&c(y()),a.abrupt("return",Object(p.a)({},g.a,i.messages[0]));case 12:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()}})((function(e){var t=e.isAuthorized,n=e.login,a=e.captchaUrl;return t?Object(r.jsx)(l.a,{to:"/profile"}):Object(r.jsx)(r.Fragment,{children:Object(r.jsx)("section",{className:ot.a.loginContainer,children:Object(r.jsx)(ut,{login:n,captchaUrl:a})})})}));var ft=function(e){return function(t){return Object(r.jsx)(a.Suspense,{fallback:Object(r.jsx)(We.a,{}),children:Object(r.jsx)(e,Object(O.a)({},t))})}},dt=c.a.lazy((function(){return n.e(4).then(n.bind(null,118))})),pt=c.a.lazy((function(){return n.e(3).then(n.bind(null,117))})),bt=Object(u.b)((function(e){return{initialized:e.app.initialized,globalError:e.app.globalError}}),{initializeApp:function(){return function(){var e=Object(h.a)(j.a.mark((function e(t,n){var r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(M());case 2:if(r=Object(x.e)(n())){e.next=6;break}return t(q()),e.abrupt("return");case 6:return e.next=8,t(E(r));case 8:t(q());case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},setGlobalError:function(){return function(e){e(K(!0)),setTimeout((function(){e(K(null))}),3e3)}}})((function(e){var t=Object(a.useState)(!1),n=Object(s.a)(t,2),c=n[0],o=n[1];return Object(a.useEffect)((function(){var t=function(){e.setGlobalError()};return e.initializeApp(),window.addEventListener("unhandledrejection",t),function(){window.removeEventListener("unhandledrejection",t)}}),[]),e.initialized?Object(r.jsxs)(r.Fragment,{children:[e.globalError&&Object(r.jsx)("div",{class:"global-error",children:"Some error occured.. Try one more time"}),Object(r.jsx)(nt,{setMobileMode:o}),Object(r.jsx)("div",{className:"container",children:Object(r.jsxs)("main",{className:"content-wrapper",children:[Object(r.jsx)(he,{mobileMode:c,setMobileMode:o}),Object(r.jsx)("div",{className:"app-wrapper-content",children:Object(r.jsxs)(l.d,{children:[Object(r.jsx)(l.b,{exact:!0,path:"/",render:function(){return Object(r.jsx)(l.a,{to:"/profile"})}}),Object(r.jsx)(l.b,{path:"/profile/:userId?",render:ft(pt)}),Object(r.jsx)(l.b,{path:"/dialogs",render:ft(dt)}),Object(r.jsx)(l.b,{path:"/news",render:function(){return Object(r.jsx)(ge,{})}}),Object(r.jsx)(l.b,{path:"/music",render:function(){return Object(r.jsx)(Oe,{})}}),Object(r.jsx)(l.b,{path:"/settings",render:function(){return Object(r.jsx)(me,{})}}),Object(r.jsx)(l.b,{path:"/users",render:function(){return Object(r.jsx)(qe,{})}}),Object(r.jsx)(l.b,{path:"/login",render:function(){return Object(r.jsx)(lt,{})}}),Object(r.jsx)(l.b,{path:"*",render:function(){return Object(r.jsx)("div",{children:"404 NOT FOUND"})}})]})})]})})]}):Object(r.jsx)(We.a,{})})),jt=function(e){return Object(r.jsx)(f.a,{children:Object(r.jsx)(u.a,{store:re,children:Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(bt,{})})})})},ht=(n(110),function(e){e&&e instanceof Function&&n.e(5).then(n.bind(null,116)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),r(e),a(e),c(e),o(e)}))});i.a.render(Object(r.jsx)(jt,{}),document.getElementById("root")),ht()},13:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"e",(function(){return a})),n.d(t,"b",(function(){return c})),n.d(t,"d",(function(){return o})),n.d(t,"a",(function(){return i}));var r=function(e){return e.auth.isAuthorized},a=function(e){return e.auth.id},c=function(e){return e.auth.captchaUrl},o=function(e){return e.auth.login},i=function(e){var t;return null===(t=e.auth.profile)||void 0===t?void 0:t.photos.large}},17:function(e,t,n){"use strict";n.d(t,"c",(function(){return b})),n.d(t,"b",(function(){return j})),n.d(t,"a",(function(){return h}));var r=n(10),a=n(1),c=n(23),o=n(3),i=n(36),s=n(33),u=n.n(s),l=n(38),f=n(27),d=n(11),p=n.n(d),b=function(e){return function(t){var n=t.input,r=t.meta,c=r.touched,s=r.error,l=t.className,f=Object(i.a)(t,["input","meta","className"]),d=c&&s?u.a.errorForm:null;return Object(a.jsxs)("div",{className:u.a.container,children:[Object(a.jsx)(e,Object(o.a)(Object(o.a)({className:p()(u.a[l],d)},n),f)),c&&s&&Object(a.jsx)("span",{className:u.a.errorText,children:s})]})}},j=function(e,t,n,r,i){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(l.a,Object(o.a)({placeholder:e,name:n,component:r,validate:f.a.apply(void 0,Object(c.a)(i))},s)),t]})},h=function(e){var t=e.text,n=e.className,c=Object(i.a)(e,["text","className"]);return Object(a.jsx)("button",Object(o.a)(Object(o.a)({className:p()(u.a.button,Object(r.a)({},n,n)),type:"submit"},c),{},{children:t}))}},20:function(e,t,n){e.exports={header:"Header_header__31rsY",headerContainer:"Header_headerContainer__tts-_","app-logo":"Header_app-logo__3R4JU",nav:"Header_nav__1cEPR",login:"Header_login__36HUG",image:"Header_image__x-wbe",user:"Header_user__12vHs",userPoppingMenu:"Header_userPoppingMenu__VtsFU",bars:"Header_bars__3cZkH"}},21:function(e,t,n){e.exports={nav:"Nav_nav__2fTse",wrapper:"Nav_wrapper__35eXL",link:"Nav_link__1eCev",active:"Nav_active__32XGf",icon:"Nav_icon__3G1er",friendsBlock:"Nav_friendsBlock__R_cDP",friendsTitle:"Nav_friendsTitle__EMM3D",friends:"Nav_friends__nxPnR"}},26:function(e,t,n){e.exports={pageItem:"Paginator_pageItem__3rTW3",sandwichPanel:"Paginator_sandwichPanel__Vk8Ht",active:"Paginator_active__3FYGx",arrowButton:"Paginator_arrowButton__9DO4v",arrowLeft:"Paginator_arrowLeft__lJkdy",arrowRight:"Paginator_arrowRight__1D76j",filled:"Paginator_filled__32K2D"}},27:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return c}));var r=function(e){return e?void 0:"Required"},a=function(e){return function(t){return t&&t.length<e?void 0:"Max length is ".concat(e)}},c=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduce((function(t,n){return t||n(e)}),void 0)}}},28:function(e,t,n){e.exports={userInfo:"UserInfo_userInfo__2H-Gh",location:"UserInfo_location__3f17y",name:"UserInfo_name__30HVX",status:"UserInfo_status__xBvfJ"}},29:function(e,t,n){e.exports={loginContainer:"Login_loginContainer__3IvmD",form:"Login_form__4Jmpl",disabled:"Login_disabled__3rWBa",loginTitle:"Login_loginTitle__2bMOw",error:"Login_error__3l-Bd"}},30:function(e,t,n){"use strict";var r=n(1),a=n(10),c=(n(2),n(47)),o=n.n(c),i=n(11),s=n.n(i);t.a=function(e){return Object(r.jsx)("div",{className:o.a.preloader,children:Object(r.jsxs)("div",{className:s()(o.a["lds-roller"],Object(a.a)({},o.a.regularHeight,"status"===e.insteadOf)),children:[Object(r.jsx)("div",{}),Object(r.jsx)("div",{}),Object(r.jsx)("div",{}),Object(r.jsx)("div",{}),Object(r.jsx)("div",{}),Object(r.jsx)("div",{}),Object(r.jsx)("div",{}),Object(r.jsx)("div",{})]})})}},33:function(e,t,n){e.exports={container:"FormControls_container__3lyhw",errorText:"FormControls_errorText__16mtR",errorForm:"FormControls_errorForm__3Ky2Q",comment:"FormControls_comment__1SFi-",form_login:"FormControls_form_login__2M7ru",button:"FormControls_button__13PYA"}},37:function(e,t,n){"use strict";t.a=n.p+"static/media/smile.b50b68f8.jpg"},46:function(e,t,n){e.exports={picture:"UsersFollow_picture__2o1MN",user:"UsersFollow_user__ri96X",userLeft:"UsersFollow_userLeft__1R6iQ",noMargin:"UsersFollow_noMargin__1AOX0"}},47:function(e,t,n){e.exports={preloader:"Preloader_preloader__1OTOK","lds-roller":"Preloader_lds-roller__148Gz",regularHeight:"Preloader_regularHeight__fbMVo"}},51:function(e,t,n){e.exports={friend:"Friend_friend__2O6dt",pictureBlock:"Friend_pictureBlock__1zXGp",picture:"Friend_picture__174Bg"}},54:function(e,t,n){"use strict";n.d(t,"a",(function(){return w})),n.d(t,"f",(function(){return I})),n.d(t,"c",(function(){return P})),n.d(t,"d",(function(){return M})),n.d(t,"h",(function(){return E})),n.d(t,"e",(function(){return y})),n.d(t,"g",(function(){return A}));var r=n(10),a=n(5),c=n.n(a),o=n(8),i=n(23),s=n(3),u=n(9),l=n(24),f=c.a.mark(d);function d(){var e;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=0;case 1:return e++,t.next=5,e;case 5:t.next=1;break;case 7:case"end":return t.stop()}}),f)}var p=d(),b="profile/ADD-POST",j="profile/SET-USER-PROFILE",h="profile/SET-STATUS",O="profile/DELETE_POST",g="profile/UPDATE_PHOTO",m="profile/SET_STATUS_FETCHING",x=p,v={posts:[{message:"Hi, what's up?",likes:25,id:x.next().value},{message:"It's my first post",likes:30,id:x.next().value},{message:"It is reaaally interesting experience",likes:30,id:x.next().value}],profile:null,status:"",isStatusFetching:!1},w=function(e){return{type:b,text:e}},_=function(e){return{type:j,profile:e}},N=function(e){return{type:h,status:e}},I=function(e){return{type:m,isStatusFetching:e}},P=function(e){return function(){var t=Object(o.a)(c.a.mark((function t(n){var r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(_(null)),t.next=3,u.c.getProfile(e);case 3:r=t.sent,n(_(r));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},M=function(e){return function(){var t=Object(o.a)(c.a.mark((function t(n){var r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.c.getStatus(e);case 2:r=t.sent,n(N(r));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},E=function(e){return function(){var t=Object(o.a)(c.a.mark((function t(n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.c.updateStatus(e);case 2:0===t.sent.resultCode&&n(N(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},y=function(e){return function(){var t=Object(o.a)(c.a.mark((function t(n){var r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.c.updatePhoto(e);case 2:0===(r=t.sent).data.resultCode&&n((a=r.data.data.photos,{type:g,photos:a}));case 4:case"end":return t.stop()}var a}),t)})));return function(e){return t.apply(this,arguments)}}()},A=function(e){return function(){var t=Object(o.a)(c.a.mark((function t(n,a){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.c.updateProfile(e);case 2:if(0!==t.sent.resultCode){t.next=7;break}n(_(e)),t.next=8;break;case 7:return t.abrupt("return",Object(r.a)({},l.a,"Invalid url in the contacts. Try again"));case 8:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:var n={message:t.text,likes:0,id:x.next().value};return Object(s.a)(Object(s.a)({},e),{},{posts:[].concat(Object(i.a)(e.posts),[n])});case O:return Object(s.a)(Object(s.a)({},e),{},{posts:e.posts.filter((function(e){return e.id!==t.postId}))});case j:return Object(s.a)(Object(s.a)({},e),{},{profile:t.profile});case h:return Object(s.a)(Object(s.a)({},e),{},{status:t.status});case g:return Object(s.a)(Object(s.a)({},e),{},{profile:Object(s.a)(Object(s.a)({},e.profile),{},{photos:t.photos})});case m:return Object(s.a)(Object(s.a)({},e),{},{isStatusFetching:t.isStatusFetching});default:return e}}},64:function(e,t,n){"use strict";n.d(t,"b",(function(){return s}));var r=n(23),a=n(3),c="SEND-MESSAGE",o="DELETE_MESSAGE",i={dialogs:[{id:1,name:"Vovan"},{id:2,name:"Egor"},{id:3,name:"Nastya"},{id:4,name:"Danya"}],messages:[{id:1,message:"Hi",fromMe:!0},{id:2,message:"Hi, what's up?",fromMe:!1},{id:3,message:"Yo",fromMe:!0},{id:4,message:"Yo",fromMe:!1},{id:5,message:"Yo",fromMe:!0}]},s=function(e){return{type:c,text:e}};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c:var n={id:6,message:t.text,fromMe:!0};return Object(a.a)(Object(a.a)({},e),{},{messages:[].concat(Object(r.a)(e.messages),[n])});case o:return Object(a.a)(Object(a.a)({},e),{},{messages:e.messages.filter((function(e){return e.id!==t.id}))});default:return e}}},70:function(e,t,n){e.exports={picture:"User_picture__6sC9a",user:"User_user__2lN3d",followButton:"User_followButton__3LpcV"}},71:function(e,t,n){e.exports={users:"Users_users__3tzOu"}},78:function(e,t,n){},9:function(e,t,n){"use strict";n.d(t,"e",(function(){return c})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return u}));var r=n(67),a=r.create({withCredentials:!0,headers:{"API-KEY":"2fd5b602-294c-435c-82ff-14577d02fb67"},baseURL:"https://social-network.samuraijs.com/api/1.0/"}),c={getUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return a.get("users?count=".concat(e,"&page=").concat(t)).then((function(e){return e.data}))}},o={getProfile:function(e){return a.get("profile/".concat(e)).then((function(e){return e.data}))},getStatus:function(e){return a.get("profile/status/".concat(e)).then((function(e){return e.data}))},updateStatus:function(e){return a.put("profile/status",{status:e}).then((function(e){return e.data}))},updatePhoto:function(e){var t=new FormData;return t.append("image",e),a.put("profile/photo",t,{headers:{"Content-type":"multipart/form-data"}})},updateProfile:function(e){return a.put("profile",e).then((function(e){return e.data}))}},i={authorize:function(){return a.get("auth/me").then((function(e){return e.data}))},getProfile:function(e){return console.warn("Outdated method. Please use profileAPI"),o.getProfile(e)},login:function(e,t,n,r){return a.post("auth/login",{email:e,password:t,rememberMe:n,captcha:r}).then((function(e){return e.data}))},logout:function(){return a.delete("auth/login").then((function(e){return e.data}))}},s={unfollow:function(e){return a.delete("follow/".concat(e)).then((function(e){return e.data}))},follow:function(e){return a.post("follow/".concat(e),{}).then((function(e){return e.data}))}},u={getCaptchaUrl:function(){return a.get("security/get-captcha-url").then((function(e){return e.data}))}}}},[[111,1,2]]]);
//# sourceMappingURL=main.7c7dec41.chunk.js.map