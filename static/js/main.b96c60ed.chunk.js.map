{"version":3,"sources":["redux/auth-reducer.js","redux/sidebar-reducer.js","redux/users-reducer.js","redux/app-reducer.js","redux/redux-store.js","components/Nav/Friend/Friend.jsx","components/Nav/Nav.jsx","components/Nav/NavContainer.jsx","components/Music/Music.jsx","components/News/News.jsx","components/Settings/Settings.jsx","components/Users/User/UserFollow/UserFollow.jsx","components/Users/User/UserInfo/UserInfo.jsx","components/Users/User/User.jsx","components/сommon/Paginator/Paginator.jsx","components/Users/Users.jsx","redux/selectors/users-selectors.js","components/Users/UsersContainer.jsx","components/Header/Header.jsx","assets/images/header/logo.png","components/Header/HeaderContainer.jsx","components/Login/Login.jsx","components/hoc/withLazyLoading.jsx","App.js","reportWebVitals.js","index.js","redux/selectors/auth-selectors.js","components/сommon/FormControls/FormControls.jsx","components/Header/Header.module.css","components/Nav/Nav.module.css","components/сommon/Paginator/Paginator.module.css","utils/validators/validators.js","components/Users/User/UserInfo/UserInfo.module.css","components/Login/Login.module.css","components/сommon/Preloader/Preloder.jsx","components/сommon/FormControls/FormControls.module.css","assets/images/smile.jpg","components/Users/User/UserFollow/UsersFollow.module.css","components/сommon/Preloader/Preloader.module.css","components/Nav/Friend/Friend.module.css","utils/id-generator.js","redux/profile-reducer.js","redux/dialogs-reducer.js","components/Users/User/User.module.css","components/Users/Users.module.css","api/api.js"],"names":["authorizeUser","GET_CAPTCHA_URL","GET_LOGGED_IN_USER_PROFILE","initialState","id","login","email","isAuthorized","captchaUrl","profile","setAuthorization","type","payload","setCaptcha","getAuthorizedProfileInfo","dispatch","a","authAPI","authorize","data","resultCode","getAuthorizedUserProfile","userId","profileAPI","getProfile","getCaptchaUrl","securityAPI","url","authReducer","state","action","name","sidebarReducer","ToggleFollowPerson","SetUsers","HandlePages","TotalCount","ToggleIsFetching","ToggleFollowingInProgress","users","totalCount","page","usersPerPage","isFetching","followingInProgress","toggleFollow","toggleIsFetching","toggleFollowingInProgress","isFollowing","followUnfollowFlow","apiMethod","usersReducer","map","u","followed","currentPage","SET_INITIALIZATION","SET_ERROR","initialized","globalError","setInitialization","setError","errorState","appReducer","reducers","combineReducers","profilePage","profileReducer","messagesPage","dialogsReducer","sidebar","usersPage","auth","app","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleWare","Friend","props","className","classes","friend","src","smile","picture","alt","NavItem","Icon","text","setMobileMode","onClick","mode","link","to","activeClassName","active","icon","Nav","friends","cn","nav","mobileMode","wrapper","FaHome","FaCommentAlt","FaUserFriends","FaRegNewspaper","FaMusic","BsFillGearFill","friendsBlock","friendsTitle","NavContainer","connect","Music","News","Settings","UserFollow","isFollowingFree","followAction","unfollow","follow","followingText","userLeft","photos","small","noMargin","UserInfo","userInfo","location","city","status","User","user","Paginator","perPage","switchPage","portionSize","pagesAmount","Math","ceil","pages","i","push","portionCount","initialPortion","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","sandwichPanel","onMouseDown","e","preventDefault","arrowLeft","filled","currentPortion","filter","p","pageItem","arrowRight","Users","usersArray","getUsers","getUsersPerPage","createSelector","getPage","getIsFetching","getTotalCount","getFollowingInProgress","UsersContainer","bind","this","requestUsers","React","Component","getIsAuthorized","followAPI","usersAPI","items","Header","height","setHeight","menu","useRef","useEffect","current","clientHeight","style","header","headerContainer","history","bars","event","element","split","profilePhoto","image","userPoppingMenu","ref","logout","HeaderContainer","getLogin","getAuthorizedUserProfilePhoto","withRouter","maxLength10","maxLengthCreator","Input","createFormElement","LoginForm","onSubmit","formData","password","rememberMe","captcha","submitError","submitting","handleSubmit","form","loginTitle","createField","requiredField","form_element","error","disabled","getCaptcha","getState","getMyId","FORM_ERROR","messages","loginContainer","withLazyLoading","Element","fallback","DialogsContainer","lazy","ProfileContainer","AppContainer","initializeApp","myId","setGlobalError","setTimeout","handleUnhandledErrors","addEventListener","removeEventListener","class","exact","path","render","FacetookApp","StrictMode","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","document","getElementById","large","input","meta","touched","errorForm","container","errorText","placeholder","component","validators","validate","composeValidators","Button","button","module","exports","value","undefined","maxLength","length","reduce","validator","Preloader","preloader","regularHeight","insteadOf","generator","idGenerator","ADD_POST","SET_USER_PROFILE","SET_STATUS","DELETE_POST","UPDATE_PHOTO","SET_STATUS_FETCHING","posts","message","likes","next","isStatusFetching","addPost","setUserProfile","setStatus","setStatusFetching","getStatus","updateStatus","savePhoto","photo","updatePhoto","response","updateProfile","newPost","post","postId","sendMessageType","DELETE_MESSAGE","dialogs","fromMe","sendMessage","newMessage","instance","axios","withCredentials","headers","baseURL","get","put","file","FormData","append","console","warn","delete"],"mappings":"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","file":"static/js/main.b96c60ed.chunk.js","sourcesContent":["import { FORM_ERROR } from 'final-form';\nimport { authAPI, profileAPI, securityAPI } from '../api/api';\nimport { getMyId } from './selectors/auth-selectors';\n\nconst authorizeUser = 'auth/AUTHORIZE-USER';\nconst GET_CAPTCHA_URL = 'auth/GET_CAPTCHA_URL';\nconst GET_LOGGED_IN_USER_PROFILE = 'auth/GET_LOGGED_IN_USER_PROFILE';\n\nlet initialState = {\n    id: null,\n    login: null,\n    email: null,\n    isAuthorized: false,\n    captchaUrl: null, //if null then no captcha required\n    profile: null\n};\n\nconst authReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case authorizeUser:\n            return {\n                ...state,\n                ...action.payload,\n            }\n        case GET_LOGGED_IN_USER_PROFILE:\n            return {\n                ...state, \n                profile: action.profile\n            }\n        case GET_CAPTCHA_URL:\n            return {\n                ...state,\n                captchaUrl: action.captchaUrl\n            }\n        default:\n            return state;\n    }\n};\n\nexport const setAuthorization = (id, login, email, isAuthorized) => ({ type: authorizeUser, payload: { id, login, email, isAuthorized } });\nexport const setCaptcha = captchaUrl => ({ type: GET_CAPTCHA_URL, captchaUrl });\nexport const setLoggedInUserProfile = profile => ({type: GET_LOGGED_IN_USER_PROFILE, profile});\n\nexport const getAuthorizedProfileInfo = () => async dispatch => {\n    const data = await authAPI.authorize()\n    if (data.resultCode === 0) {\n        const { id, login, email } = data.data;\n\n        dispatch(setAuthorization(id, login, email, true));\n    }\n};\n\nexport const getAuthorizedUserProfile = userId => async dispatch => {\n    const data = await profileAPI.getProfile(userId);\n\n    dispatch(setLoggedInUserProfile(data));\n};\n\nexport const login = (email, password, rememberMe, captcha) => async (dispatch, getState) => {\n    const data = await authAPI.login(email, password, rememberMe, captcha);\n\n    if (data.resultCode === 0) {\n        await dispatch(getAuthorizedProfileInfo());\n        dispatch(getAuthorizedUserProfile(getMyId(getState())))\n        dispatch(setCaptcha(null));\n    }\n    else {\n        if (data.resultCode === 10) {\n            dispatch(getCaptchaUrl());\n        }\n        return {\n            [FORM_ERROR]: data.messages[0]\n        }\n    }\n};\n\nexport const logout = () => async dispatch => {\n    const data = await authAPI.logout();\n\n    if (data.resultCode === 0) {\n        dispatch(setAuthorization(null, null, null, false));\n    }\n};\n\nexport const getCaptchaUrl = () => async dispatch => {\n    const data = await securityAPI.getCaptchaUrl();\n    const captchaUrl = data.url;\n    dispatch(setCaptcha(captchaUrl));\n};\n\nexport default authReducer;","let initialState = [\n    {name: 'Nastya', id: 1},\n    {name: 'Egor', id: 2},\n    {name: 'Danya', id: 3}\n];\n\n\nconst sidebarReducer = (state = initialState, action) => {\n    switch(action.type) {\n        default:\n            return state;\n    }\n};\n\nexport default sidebarReducer;","import { followAPI, usersAPI } from '../api/api';\n\nconst ToggleFollowPerson = \"users/TOGGLE-FOLLOW-PERSON\";\nconst SetUsers = \"users/SET-USERS\";\nconst HandlePages = \"users/HANDLE-PAGES\";\nconst TotalCount = \"users/TOTAL-COUNT\";\nconst ToggleIsFetching = \"users/TOGGLE-IS-FETCHING\";\nconst ToggleFollowingInProgress = \"users/TOGGLE-FOLLOWING-IN-PROGRESS\";\n\nlet initialState = {\n    users: [],\n    totalCount: 0,\n    page: 1,\n    usersPerPage: 4,\n    isFetching: false,\n    followingInProgress: false,\n};\n\nconst usersReducer = (state = initialState, action) => {\n    switch(action.type) {\n        case ToggleFollowPerson:\n            return {\n                ...state,\n                users: state.users.map(u => {\n                    if (u.id === action.userId) {\n                        return {\n                            ...u,\n                            followed: !u.followed\n                        };\n                    }\n                    return {...u};\n                }),\n            };\n        case SetUsers:\n            return {\n                ...state,\n                users: [...action.users],\n            };\n        case HandlePages:\n            return {\n                ...state,\n                users: [...state.users],\n                page: action.currentPage\n            }\n        case TotalCount:\n            return {\n                ...state,\n                totalCount: action.totalCount\n            }\n        case ToggleIsFetching:\n            return {\n                ...state,\n                isFetching: action.isFetching\n            }\n        case ToggleFollowingInProgress:\n            return {\n                ...state,\n                followingInProgress: action.isFollowing\n            }\n        default:\n            return state;\n    }\n}\n\nexport const toggleFollow = userId => ({type: ToggleFollowPerson, userId}); //action creator\nexport const addUsers = users => ({type: SetUsers, users});\nexport const switchPage = currentPage => ({type: HandlePages, currentPage});\nexport const setTotalCount = totalCount =>  ({type: TotalCount, totalCount});\nexport const toggleIsFetching = isFetching => ({type: ToggleIsFetching, isFetching});\nexport const toggleFollowingInProgress = isFollowing => ({type: ToggleFollowingInProgress, isFollowing});\n\nconst followUnfollowFlow = async (dispatch, userId, apiMethod) => {\n    dispatch(toggleFollowingInProgress(true));\n    let data = await apiMethod(userId);\n    dispatch(toggleFollowingInProgress(false));\n\n    if (data.resultCode === 0) {\n        dispatch(toggleFollow(userId));\n    }\n};\n\nexport const follow = userId => async dispatch => {//redux-thunk\n    followUnfollowFlow(dispatch, userId, followAPI.follow.bind(followAPI));\n};\n\nexport const unfollow = userId => async dispatch => { //redux-thunk\n    followUnfollowFlow(dispatch, userId, followAPI.unfollow.bind(followAPI));\n};\n\nexport const requestUsers = (usersPerPage, page) => async dispatch => {\n    dispatch(switchPage(page));\n\n    dispatch(toggleIsFetching(true));\n    let data = await usersAPI.getUsers(usersPerPage, page)\n    dispatch(toggleIsFetching(false));\n\n    dispatch(setTotalCount(data.totalCount));\n    dispatch(addUsers(data.items));\n};\n\nexport default usersReducer;","import { getAuthorizedProfileInfo, getAuthorizedUserProfile } from './auth-reducer';\nimport { getMyId } from './selectors/auth-selectors';\n\nconst SET_INITIALIZATION = 'app/SET_INITIALIZATION';\nconst SET_ERROR = 'app/SET_ERROR'\n\nlet initialState = {\n    initialized: false,\n    globalError: null\n};\n\nconst appReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case SET_INITIALIZATION:\n            return {\n                ...state,\n                initialized: true,\n            }\n        case SET_ERROR:\n            return {\n                ...state,\n                globalError: action.errorState\n            }\n        default:\n            return state;\n    }\n};\n\nexport const setInitialization = () => ({ type: SET_INITIALIZATION });\nexport const setError = errorState => ({ type: SET_ERROR, errorState });\n\nexport const setGlobalError = () => dispatch => {\n    dispatch(setError(true));\n    setTimeout(() => {\n        dispatch(setError(null))\n    }, 3000);\n};\n\nexport const initializeApp = () => async (dispatch, getState) => {\n    await dispatch(getAuthorizedProfileInfo())\n    const myId = getMyId(getState());\n\n    if (!myId) {\n        dispatch(setInitialization());\n        return;\n    } \n\n    await dispatch(getAuthorizedUserProfile(myId))\n    dispatch(setInitialization());\n};\n\nexport default appReducer;","import {applyMiddleware, combineReducers, compose, createStore} from 'redux';\nimport authReducer from './auth-reducer';\nimport dialogsReducer from './dialogs-reducer';\nimport profileReducer from './profile-reducer';\nimport sidebarReducer from './sidebar-reducer';\nimport usersReducer from './users-reducer';\nimport appReducer from './app-reducer';\nimport thunkMiddleWare from 'redux-thunk';\n\nlet reducers = combineReducers({\n    profilePage: profileReducer,\n    messagesPage: dialogsReducer,\n    sidebar: sidebarReducer,\n    usersPage: usersReducer,\n    auth: authReducer,\n    app: appReducer,\n});\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleWare)));\n\nexport default store;","import classes from './Friend.module.css';\nimport smile from '../../../assets/images/smile.jpg';\n\nconst Friend = (props) => {\n    return (\n        <div className={classes.friend}>\n            <img src={smile} className={classes.picture} alt=\"Your friend\" />\n            <p>{props.name}</p>\n        </div>\n    );\n};\n\nexport default Friend;","import { NavLink } from 'react-router-dom';\nimport Friend from './Friend/Friend';\nimport classes from './Nav.module.css';\nimport { FaHome, FaCommentAlt, FaUserFriends, FaRegNewspaper, FaMusic } from 'react-icons/fa';\nimport { BsFillGearFill } from \"react-icons/bs\";\nimport cn from 'classnames';\n\nconst Nav = props => {\n    let friends = props.friends.map(friend => <Friend name={friend.name} key={friend.id} />);\n\n    return (\n        <>\n            <nav className={cn(classes.nav, {\n                [classes.active]: props.mobileMode\n            })}>\n                <div className={classes.wrapper}>\n                    <ul>\n                        <NavItem setMobileMode={props.setMobileMode} Icon={FaHome} url={'/profile'} text={'Profile'} />\n                        <NavItem setMobileMode={props.setMobileMode} Icon={FaCommentAlt} url={'/dialogs'} text={'Messages'} />\n                        <NavItem setMobileMode={props.setMobileMode} Icon={FaUserFriends} url={'/users'} text={'Users'} />\n                        <NavItem setMobileMode={props.setMobileMode} Icon={FaRegNewspaper} url={'/news'} text={'News'} />\n                        <NavItem setMobileMode={props.setMobileMode} Icon={FaMusic} url={'/music'} text={'Music'} />\n                        <NavItem setMobileMode={props.setMobileMode} Icon={BsFillGearFill} url={'/settings'} text={'Settings'} />\n                    </ul>\n                    <div className={classes.friendsBlock}>\n                        <h2 className={classes.friendsTitle}>Friends:</h2>\n                        <div className={classes.friends}>\n                            {friends}\n                        </div>\n                    </div>\n\n                </div>\n            </nav>\n        </>\n    );\n};\n\nconst NavItem = ({ Icon, url, text, setMobileMode }) => {\n    return (\n        <li>\n            <NavLink onClick={() => setMobileMode(mode => !mode)} className={classes.link} to={url} activeClassName={classes.active}>\n                <Icon className={classes.icon} />\n                {text}\n            </NavLink>\n        </li>\n    );\n};\n\nexport default Nav;","import { connect } from \"react-redux\";\nimport Nav from \"./Nav\";\n\nconst mapStateToProps = state => {\n    return {\n        friends: state.sidebar\n    }\n};\n\nconst NavContainer = connect(mapStateToProps, null)(Nav);\n\nexport default NavContainer;","import classes from './Music.module.css';\n\nconst Music = () => {\n    return (\n        <div>\n            Страничка MUSIC!\n        </div>\n    );\n};\n\nexport default Music;","import classes from './News.module.css';\n\nconst News = () => {\n    return (\n        <div>\n            Страничка NEWS!\n        </div>\n    );\n};\n\nexport default News;","import classes from './Settings.module.css';\n\nconst Settings = () => {\n    return (\n        <div>\n            Страничка SETTINGS!\n        </div>\n    );\n};\n\nexport default Settings;","import classes from './UsersFollow.module.css';\nimport picture from './../../../../assets/images/smile.jpg';\nimport { NavLink } from 'react-router-dom';\nimport { Button } from '../../../сommon/FormControls/FormControls';\n\nconst UserFollow = (props) => {\n    let isFollowingFree = props.isAuthorized && !props.followingInProgress;\n    let followAction = props.followed ? () => props.unfollow(props.id) : () => props.follow(props.id);\n    let followingText = props.followed ? \"Unfollow\" : \"Follow\";\n\n    return (\n        <div className={classes.userLeft}>\n            <NavLink to={\"/profile/\" + props.id} >\n                <img className={classes.picture} src={props.photos.small != null ? props.photos.small : picture} alt=\"person in the box\" />\n            </NavLink>\n\n            {props.isAuthorized &&\n            <Button text={!props.followingInProgress ? followingText : \"....\"} className={classes.noMargin} onClick={isFollowingFree ? followAction : null} />}\n\n        </div>\n    );\n\n};\n\nexport default UserFollow;","import classes from './UserInfo.module.css';\n\n\nconst UserInfo = (props) => {\n\n    return (\n        <div className={classes.userInfo}>\n            <h2 className={classes.name}> {props.name} </h2>\n            <div className={classes.location}>\n                <h3 className={classes.city}> {\"country\"},</h3>\n                <h4 className={classes.city}>{\"city\"}</h4>\n            </div>\n            <p className={classes.status}> {props.status} </p>\n        </div>\n    );\n\n};\n\nexport default UserInfo;","import classes from './User.module.css';\nimport UserFollow from './UserFollow/UserFollow';\nimport UserInfo from './UserInfo/UserInfo';\n\n\nconst User = (props) => {\n    return (\n        <div className={classes.user}>\n            <UserFollow followed={props.followed}\n                        followingInProgress={props.followingInProgress}\n                        photos={props.photos}\n                        id={props.id}\n                        follow={props.follow}\n                        unfollow={props.unfollow}\n                        isAuthorized={props.isAuthorized} />\n            <UserInfo name={props.name}\n                      //location={props.location}\n                      status={props.status} />\n        </div>\n\n    );\n};\n\nexport default User;","import React, { useState } from 'react';\nimport classes from './Paginator.module.css';\nimport cn from 'classnames';\nimport { Button } from '../FormControls/FormControls';\n\nconst Paginator = ({totalCount, perPage, page: currentPage, switchPage, portionSize = 5}) => {\n    let pagesAmount = Math.ceil(totalCount / perPage);\n    let pages = [];\n\n    for (let i = 1; i <= pagesAmount; i++) {\n        pages.push(i);\n    }\n\n    let portionCount = Math.ceil(pagesAmount / portionSize);\n    let initialPortion = Math.ceil(currentPage / portionSize);\n    let [portionNumber, setPortionNumber] = useState(initialPortion);\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\n    let rightPortionPageNumber = portionNumber * portionSize;\n\n    return (\n        <div className={classes.sandwichPanel} onMouseDown={e => e.preventDefault()}>\n            {portionNumber > 1 &&\n            <Button className={cn(classes.arrowLeft, classes.filled)} onClick={() => setPortionNumber(currentPortion => currentPortion - 1)} text={'Влево'} />}\n            {pages.filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\n                    .map(page => (\n                    <span className={cn(classes.pageItem, {\n                        [classes.active]: page === currentPage\n                    })}\n                        onClick={e => switchPage(page)} key={page}>{page}</span>))}\n            {portionNumber < portionCount &&\n            <Button className={cn(classes.filled, classes.arrowRight)} onClick={() => setPortionNumber(currentPortion => currentPortion + 1)} text={'Вправо'} />}\n        </div>\n    )\n};\n\nexport default Paginator;\n\n","import React from 'react';\nimport User from './User/User';\nimport classes from './Users.module.css';\nimport Paginator from '../сommon/Paginator/Paginator';\n\nconst Users = ({totalCount, usersPerPage, page, switchPage, users, ...props}) => {\n    let usersArray = users.map(user => <User name={user.name}\n                                            //location={user.location} \n                                            status={user.status}\n                                            followed={user.followed}\n                                            followingInProgress={props.followingInProgress}\n                                            photos={user.photos}\n                                            id={user.id}\n                                            key={user.id}\n                                            follow={props.follow}\n                                            unfollow={props.unfollow}\n                                            isAuthorized={props.isAuthorized} />);\n\n    return (\n        <div className={classes.users}>\n            <Paginator totalCount={totalCount} perPage={usersPerPage} page={page} switchPage={switchPage} />\n            {usersArray}\n        </div>\n    )\n};\n\nexport default Users;\n\n","import { createSelector } from \"reselect\";\n\nexport const getUsers = state => {\n    return state.usersPage.users;\n}\n\nconst getUsersReselect = createSelector(getUsers, users => { // reselector библиотека reselect\n    return users.filter(u => true);\n});\n\nexport const getUsersPerPage = state => {\n    return state.usersPage.usersPerPage;\n}\n\nexport const getPage = state => {\n    return state.usersPage.page;\n}\n\nexport const getIsFetching = state => {\n    return state.usersPage.isFetching;\n}\n\nexport const getTotalCount = state => {\n    return state.usersPage.totalCount;\n}\n\nexport const getFollowingInProgress = state => {\n    return state.usersPage.followingInProgress;\n}","import React from 'react';\nimport { connect } from 'react-redux';\nimport Users from './Users';\nimport { follow, unfollow, requestUsers } from './../../redux/users-reducer';\nimport Preloader from '../сommon/Preloader/Preloder';\nimport { compose } from 'redux';\nimport { getFollowingInProgress,\n         getIsFetching,\n         getPage, \n         getTotalCount, \n         getUsers, \n         getUsersPerPage } from '../../redux/selectors/users-selectors';\nimport { getIsAuthorized } from '../../redux/selectors/auth-selectors';\n\nclass UsersContainer extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.switchPage = this.switchPage.bind(this);\n    }\n\n    componentDidMount() {\n        const {usersPerPage} = this.props;\n        this.props.requestUsers(usersPerPage, 1);\n    }\n\n    switchPage(page) {\n        const {usersPerPage} = this.props;\n        this.props.requestUsers(usersPerPage, page);\n    }\n\n    render() {\n        if (this.props.isFetching) return <Preloader />\n        else {\n            return (\n                <Users totalCount={this.props.totalCount}\n                    usersPerPage={this.props.usersPerPage}\n                    page={this.props.page}\n                    switchPage={this.switchPage}\n                    users={this.props.users}\n                    toggleFollowingInProgress={this.props.toggleFollowingInProgress}\n                    followingInProgress={this.props.followingInProgress}\n                    follow={this.props.follow}\n                    unfollow={this.props.unfollow}\n                    isAuthorized={this.props.isAuthorized} />\n            )\n        }\n\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        users: getUsers(state),\n        usersPerPage: getUsersPerPage(state),\n        page: getPage(state),\n        isFetching: getIsFetching(state),\n        totalCount: getTotalCount(state),\n        followingInProgress: getFollowingInProgress(state),\n        isAuthorized: getIsAuthorized(state),\n    }\n\n};\n\nexport default compose(\n    connect(mapStateToProps, { follow, unfollow, requestUsers, })\n)(UsersContainer); //redux сам создает коллбэки чтобы задиспатчить (compose объединяет все процессоры/обработчики компоненты)","import { NavLink } from 'react-router-dom';\nimport classes from './Header.module.css';\nimport logo from '../../assets/images/header/logo.png';\nimport { useEffect, useRef, useState } from 'react';\nimport { FaBars } from 'react-icons/fa';\nimport cn from 'classnames';\n\n\nconst Header = props => {\n    let [height, setHeight] = useState(0);\n    let menu = useRef(null);\n\n    useEffect(() => {\n        if (!props.isAuthorized) return;\n\n        setHeight(menu.current.clientHeight);\n\n        menu.current.style.height = 0;\n    }, [props.isAuthorized]);\n\n    const goToProfile = () => {\n        props.history.push('/profile');\n    }\n\n    const logout = () => {\n        props.logout();\n    };\n\n    const toggleOpenMenu = event => {\n        const element = menu.current;\n\n        if (element.style.height.split('px')[0] === '0') {\n            element.style.height = height + 'px';\n        }\n        else {\n            element.style.height = 0;\n        }\n\n    };\n\n    const openPhoneSidebar = event => {\n        props.setMobileMode(mobileMode => !mobileMode);\n    }\n\n    return (\n        <>\n            <header className={classes.header}>\n                <div className=\"container\">\n                    <div className={classes.headerContainer}>\n                        <img className={classes['app-logo']} src={logo} onClick={goToProfile} alt=\"logo\" />\n                        <FaBars className={classes.bars} onClick={openPhoneSidebar} />\n                        <nav className={classes.nav}>\n                            {props.isAuthorized &&\n                                <div className={classes.user} onClick={toggleOpenMenu} onMouseDown={e => e.preventDefault()}>\n                                    <img src={props.profilePhoto} className={classes.image} alt=\"me\" />\n                                    {props.login}\n                                    <div className={cn(classes.userPoppingMenu)} ref={menu}>\n                                        <button className={classes.logout} onClick={logout}>Logout</button>\n                                    </div>\n                                </div>}\n                            {!props.isAuthorized && <NavLink className={classes.login} to=\"/login\">Login</NavLink>}\n                        </nav>\n                    </div>\n                </div>\n            </header>\n        </>\n    );\n};\n\nexport default Header;","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAiCAYAAAA6RwvCAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA4RpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDE0IDc5LjE1MTQ4MSwgMjAxMy8wMy8xMy0xMjowOToxNSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo5ODg0NmM1NS0zZjBkLTgxNDEtOTRiMy0zMzZkMzA5MWIwOWIiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QjE1M0VBOTYwRUM0MTFFOEFGM0JFREU2MDExOTIwMUUiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QjE1M0VBOTUwRUM0MTFFOEFGM0JFREU2MDExOTIwMUUiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6N2NjOWQ1YmUtZGY1ZS04NDRkLTljZGUtOWIwMWQ5N2E1ZTM5IiBzdFJlZjpkb2N1bWVudElEPSJhZG9iZTpkb2NpZDpwaG90b3Nob3A6MzE3OWQyNTEtNThlOS0xMWU3LTgyNWYt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\"","import React from 'react';\nimport { logout } from '../../redux/auth-reducer';\nimport Header from './Header';\nimport { connect } from 'react-redux';\nimport { getAuthorizedUserProfilePhoto, getIsAuthorized, getLogin } from '../../redux/selectors/auth-selectors';\nimport { compose } from 'redux';\nimport { withRouter } from 'react-router';\n\nclass HeaderContainer extends React.Component {\n    render() {\n        return <Header {...this.props} />\n    }\n}\n\nconst mapStateToProps = state => ({\n    isAuthorized: getIsAuthorized(state),\n    login: getLogin(state),\n    profilePhoto: getAuthorizedUserProfilePhoto(state)\n});\n\nexport default compose(\n    connect(mapStateToProps, { logout }),\n    withRouter,\n)(HeaderContainer)","import React from 'react';\nimport { Form } from 'react-final-form'\nimport { connect } from 'react-redux';\nimport { maxLengthCreator, requiredField } from '../../utils/validators/validators';\nimport { Button, createField, createFormElement } from '../сommon/FormControls/FormControls';\nimport { login } from '../../redux/auth-reducer';\nimport classes from './Login.module.css';\nimport { Redirect } from 'react-router';\nimport { getCaptcha, getIsAuthorized } from '../../redux/selectors/auth-selectors';\nimport cn from 'classnames';\n\nconst maxLength10 = maxLengthCreator(30);\nconst Input = createFormElement(\"input\");\n\nconst Login = ({ isAuthorized, login, captchaUrl }) => {\n    if (isAuthorized) return <Redirect to={'/profile'} />\n\n    return <>\n        <section className={classes.loginContainer}>\n            <LoginForm login={login} captchaUrl={captchaUrl} />\n        </section>\n    </>\n};\n\nconst LoginForm = ({ login, captchaUrl }) => {\n    const onSubmit = async formData => {\n        let { email, password, rememberMe, captcha } = formData;\n\n        return await login(email, password, rememberMe, captcha);\n    }\n\n    return (\n        <Form onSubmit={onSubmit}>\n            {({ submitError, submitting, handleSubmit }) => (\n                <form onSubmit={handleSubmit} className={classes.form}>\n                    <h1 className={classes.loginTitle}>Авторизация</h1>\n                    {createField('put your login here..', null, 'email', Input, [requiredField, maxLength10], 'form_login', { type: 'text' })}\n                    {createField('put your password here..', null, 'password', Input, [requiredField, maxLength10], 'form_login', { type: 'password' })}\n                    {createField(null, 'Remember me', 'rememberMe', Input, [], 'form_login', { type: 'checkbox' })}\n                    {captchaUrl &&\n                        <>\n                            <img src={captchaUrl} alt=\"captcha\" />\n                            {createField('symbols', null, 'captcha', Input, [requiredField], classes.form_element)}\n                        </>}\n                    {submitError && <p className={classes.error}>{submitError}</p>}\n                    <Button type={'submit'} className={cn({[classes.disabled]: submitting})} text={'Авторизироваться'} disabled={submitting} />\n                </form>\n            )}\n        </Form>\n    );\n};\n\nconst mapStateToProps = state => ({\n    isAuthorized: getIsAuthorized(state),\n    captchaUrl: getCaptcha(state)\n});\n\nexport default connect(mapStateToProps, { login })(Login);","import React, { Suspense } from 'react';\nimport Preloader from '../сommon/Preloader/Preloder';\n\nfunction withLazyLoading(Element) {\n    return function(props) {\n        return (\n            <Suspense fallback={<Preloader />}>\n                <Element {...props} />\n            </Suspense>\n        );\n    }\n}\n\nexport default withLazyLoading;","import React, { useEffect, useState } from 'react';\nimport './App.css';\nimport { Provider } from 'react-redux';\nimport { BrowserRouter, Redirect, Switch } from 'react-router-dom';\nimport store from './redux/redux-store';\nimport { connect } from 'react-redux';\nimport { initializeApp, setGlobalError } from './redux/app-reducer';\nimport { Route } from 'react-router-dom';\nimport NavContainer from './components/Nav/NavContainer';\nimport Music from './components/Music/Music';\nimport News from './components/News/News';\nimport Settings from './components/Settings/Settings';\nimport UsersContainer from './components/Users/UsersContainer';\nimport HeaderContainer from './components/Header/HeaderContainer';\nimport Login from './components/Login/Login';\nimport Preloader from './components/сommon/Preloader/Preloder';\nimport withLazyLoading from './components/hoc/withLazyLoading';\n\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'));\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'));\n\n\nconst App = (props) => {\n    let [mobileMode, setMobileMode] = useState(false);\n    useEffect(() => {\n        const handleUnhandledErrors = () => {\n            props.setGlobalError();\n        };\n\n        props.initializeApp();\n\n        window.addEventListener('unhandledrejection', handleUnhandledErrors);\n\n        return () => {\n            window.removeEventListener('unhandledrejection', handleUnhandledErrors);\n        }\n    }, []);\n\n    if (!props.initialized) {\n        return <Preloader />\n    }\n\n    return (\n        <>\n            {props.globalError && <div class=\"global-error\">Some error occured.. Try one more time</div>}\n            <HeaderContainer setMobileMode={setMobileMode} />\n\n                <div className={'container'}>\n                    <main className={'content-wrapper'}>\n                        <NavContainer mobileMode={mobileMode} setMobileMode={setMobileMode} />\n\n                        <div className=\"app-wrapper-content\">\n                            <Switch>\n                                <Route exact path=\"/\"\n                                    render={() => (<Redirect to={'/profile'} />)} />\n                                <Route path=\"/profile/:userId?\"\n                                    render={withLazyLoading(ProfileContainer)} />\n                                <Route path=\"/dialogs\"\n                                    render={withLazyLoading(DialogsContainer)} />\n                                <Route path=\"/news\"\n                                    render={() => <News />} />\n                                <Route path=\"/music\"\n                                    render={() => <Music />} />\n                                <Route path=\"/settings\"\n                                    render={() => <Settings />} />\n                                <Route path=\"/users\"\n                                    render={() => <UsersContainer />} />\n                                <Route path=\"/login\"\n                                    render={() => <Login />} />\n                                <Route path=\"*\"\n                                    render={() => <div>404 NOT FOUND</div>} />\n                            </Switch>\n                        </div>\n                    </main>\n                </div>\n        </>\n    );\n\n}\n\nconst mapDispatchToProps = state => ({\n    initialized: state.app.initialized,\n    globalError: state.app.globalError\n});\n\nconst AppContainer = connect(mapDispatchToProps, { initializeApp, setGlobalError })(App);\n\nconst FacetookApp = props => {\n    return (\n        <BrowserRouter>\n            <Provider store={store}>\n                <React.StrictMode>\n                    <AppContainer />\n                </React.StrictMode>\n            </Provider>\n        </BrowserRouter>\n    );\n};\n\nexport default FacetookApp;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport FacetookApp from './App';\nimport './index.css';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(<FacetookApp />, document.getElementById('root'));\n\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","export const getIsAuthorized = state => {\n    return state.auth.isAuthorized;\n};\n\nexport const getMyId = state => {\n    return state.auth.id;\n};\n\nexport const getCaptcha = state => {\n    return state.auth.captchaUrl;\n};\n\nexport const getLogin = state => {\n    return state.auth.login;  \n};\n\nexport const getAuthorizedUserProfilePhoto = state => {\n    return state.auth.profile?.photos.large;\n};\n\nexport const getLoggedInUserProfile = state => {\n    return state.auth.profile;\n};","import classes from './FormControls.module.css';\nimport { Field } from 'react-final-form'\nimport { composeValidators } from '../../../utils/validators/validators';\nimport cn from 'classnames';\n\nexport const createFormElement = Element => ({ input, meta: { touched, error }, className, ...props }) => {\n    const errorForm = touched && error ? classes.errorForm : null;\n    return (\n        <div className={classes.container}>\n            <Element className={cn(classes[className], errorForm)} {...input} {...props} />\n            {touched && error && <span className={classes.errorText}>{error}</span>}\n        </div>\n    );\n};\n\nexport const createField = (placeholder, text, name, component, validators, props = {}) => {\n    return (\n        <>\n            <Field placeholder={placeholder} name={name} component={component} validate={composeValidators(...validators)} {...props} />\n            {text}\n        </>\n    );\n};\n\nexport const Button = ({ text, className, ...props }) => {\n    return <button className={cn(classes.button, {[className]: className})} type=\"submit\" {...props}>{text}</button>\n};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__31rsY\",\"headerContainer\":\"Header_headerContainer__tts-_\",\"app-logo\":\"Header_app-logo__3R4JU\",\"nav\":\"Header_nav__1cEPR\",\"login\":\"Header_login__36HUG\",\"image\":\"Header_image__x-wbe\",\"user\":\"Header_user__12vHs\",\"userPoppingMenu\":\"Header_userPoppingMenu__VtsFU\",\"bars\":\"Header_bars__3cZkH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Nav_nav__2fTse\",\"wrapper\":\"Nav_wrapper__35eXL\",\"link\":\"Nav_link__1eCev\",\"active\":\"Nav_active__32XGf\",\"icon\":\"Nav_icon__3G1er\",\"friendsBlock\":\"Nav_friendsBlock__R_cDP\",\"friendsTitle\":\"Nav_friendsTitle__EMM3D\",\"friends\":\"Nav_friends__nxPnR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pageItem\":\"Paginator_pageItem__3rTW3\",\"sandwichPanel\":\"Paginator_sandwichPanel__Vk8Ht\",\"active\":\"Paginator_active__3FYGx\",\"arrowButton\":\"Paginator_arrowButton__9DO4v\",\"arrowLeft\":\"Paginator_arrowLeft__lJkdy\",\"arrowRight\":\"Paginator_arrowRight__1D76j\",\"filled\":\"Paginator_filled__32K2D\"};","export const requiredField = value => value ? undefined : 'Required';\nexport const maxLengthCreator = maxLength => value => (value && value.length < maxLength ? undefined : `Max length is ${maxLength}`);\n\nexport const composeValidators = (...validators) => value => {\n    return validators.reduce((error, validator) => error || validator(value), undefined);\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userInfo\":\"UserInfo_userInfo__2H-Gh\",\"location\":\"UserInfo_location__3f17y\",\"name\":\"UserInfo_name__30HVX\",\"status\":\"UserInfo_status__xBvfJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loginContainer\":\"Login_loginContainer__3IvmD\",\"form\":\"Login_form__4Jmpl\",\"disabled\":\"Login_disabled__3rWBa\",\"loginTitle\":\"Login_loginTitle__2bMOw\",\"error\":\"Login_error__3l-Bd\"};","import React from 'react';\nimport classes from './Preloader.module.css';\nimport cn from 'classnames';\n\nconst Preloader = props => {\n    return (\n        <div className={classes.preloader}>\n            <div className={cn(classes['lds-roller'], {\n                [classes.regularHeight]: props.insteadOf === 'status'\n            })}>\n                <div></div>\n                <div></div>\n                <div></div>\n                <div></div>\n                <div></div>\n                <div></div>\n                <div></div>\n                <div></div>\n            </div>\n        </div>\n    );\n};\n\nexport default Preloader;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"FormControls_container__3lyhw\",\"errorText\":\"FormControls_errorText__16mtR\",\"errorForm\":\"FormControls_errorForm__3Ky2Q\",\"comment\":\"FormControls_comment__1SFi-\",\"form_login\":\"FormControls_form_login__2M7ru\",\"button\":\"FormControls_button__13PYA\"};","export default __webpack_public_path__ + \"static/media/smile.b50b68f8.jpg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"picture\":\"UsersFollow_picture__2o1MN\",\"user\":\"UsersFollow_user__ri96X\",\"userLeft\":\"UsersFollow_userLeft__1R6iQ\",\"noMargin\":\"UsersFollow_noMargin__1AOX0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloader\":\"Preloader_preloader__1OTOK\",\"lds-roller\":\"Preloader_lds-roller__148Gz\",\"regularHeight\":\"Preloader_regularHeight__fbMVo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"friend\":\"Friend_friend__2O6dt\",\"pictureBlock\":\"Friend_pictureBlock__1zXGp\",\"picture\":\"Friend_picture__174Bg\"};","function* generator() {\n    let value = 0;\n\n    while (true) {\n        value++;\n        yield value;\n    }\n}\n\nexport const idGenerator = generator();","import { profileAPI } from '../api/api';\nimport { FORM_ERROR } from 'final-form';\nimport { idGenerator } from '../utils/id-generator';\n\nconst ADD_POST = 'profile/ADD-POST';\nconst SET_USER_PROFILE = 'profile/SET-USER-PROFILE';\nconst SET_STATUS = 'profile/SET-STATUS';\nconst DELETE_POST = 'profile/DELETE_POST';\nconst UPDATE_PHOTO = 'profile/UPDATE_PHOTO';\nconst SET_STATUS_FETCHING = 'profile/SET_STATUS_FETCHING';\n\nconst generator = idGenerator;\n\nlet initialState = {\n    posts: [\n        { message: \"Hi, what's up?\", likes: 25, id: generator.next().value },\n        { message: \"It's my first post\", likes: 30, id: generator.next().value },\n        { message: \"It is reaaally interesting experience\", likes: 30, id: generator.next().value },\n    ],\n    profile: null,\n    status: '',\n    isStatusFetching: false\n};\n\nconst profileReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case ADD_POST:\n            let newPost = {\n                message: action.text,\n                likes: 0,\n                id: generator.next().value\n            };\n\n            return {\n                ...state,\n                posts: [...state.posts, newPost],\n            };\n        case DELETE_POST:\n            return {\n                ...state,\n                posts: state.posts.filter(post => post.id !== action.postId)\n            }\n        case SET_USER_PROFILE:\n            return {\n                ...state,\n                profile: action.profile\n            };\n        case SET_STATUS:\n            return {\n                ...state,\n                status: action.status\n            };\n        case UPDATE_PHOTO:\n            return {\n                ...state,\n                profile: {\n                    ...state.profile,\n                    photos: action.photos\n                }\n            }\n        case SET_STATUS_FETCHING:\n            return {\n                ...state,\n                isStatusFetching: action.isStatusFetching\n            }\n        default:\n            return state;\n    }\n};\n\nexport const addPost = text => ({ type: ADD_POST, text });\nexport const setUserProfile = profile => ({ type: SET_USER_PROFILE, profile });\nexport const setStatus = status => ({ type: SET_STATUS, status });\nexport const deletePost = postId => ({ type: DELETE_POST, postId });\nexport const updatePhoto = photos => ({ type: UPDATE_PHOTO, photos });\nexport const setStatusFetching = isStatusFetching => ({ type: SET_STATUS_FETCHING, isStatusFetching } );\n\nexport const getProfile = userId => async dispatch => { // redux-thunk\n    dispatch(setUserProfile(null));\n\n    let data = await profileAPI.getProfile(userId);\n    dispatch(setUserProfile(data));\n};\n\nexport const getStatus = id => async dispatch => {\n    let status = await profileAPI.getStatus(id);\n    dispatch(setStatus(status))\n};\n\nexport const updateStatus = status => async dispatch => {\n    let response =  await profileAPI.updateStatus(status);\n\n    if (response.resultCode === 0) {\n        dispatch(setStatus(status));\n    }\n};\n\nexport const savePhoto = photo => async dispatch => {\n    let response =  await profileAPI.updatePhoto(photo);\n\n    if (response.data.resultCode === 0) {\n        dispatch(updatePhoto(response.data.data.photos));\n    }\n};\n\nexport const updateProfile = profile => async (dispatch, getState) => {\n    let response = await profileAPI.updateProfile(profile);\n\n    if (response.resultCode === 0) {\n        dispatch(setUserProfile(profile));\n    }\n    else {\n        return {\n            [FORM_ERROR]: 'Invalid url in the contacts. Try again'\n        }\n    }\n};\n\nexport default profileReducer;","const sendMessageType = 'SEND-MESSAGE';\nconst DELETE_MESSAGE = 'DELETE_MESSAGE';\n\nlet initialState = {\n    dialogs: [\n        { id: 1, name: \"Vovan\" },\n        { id: 2, name: \"Egor\" },\n        { id: 3, name: \"Nastya\" },\n        { id: 4, name: \"Danya\" },\n    ],\n    messages: [\n        { id: 1, message: \"Hi\", fromMe: true },\n        { id: 2, message: \"Hi, what's up?\", fromMe: false},\n        { id: 3, message: \"Yo\", fromMe: true},\n        { id: 4, message: \"Yo\", fromMe: false },\n        { id: 5, message: \"Yo\", fromMe: true },\n    ],\n};\n\nconst dialogsReducer = (state = initialState, action) => {\n    \n    switch (action.type) {\n        case sendMessageType: {\n            let newMessage = {\n                id: 6,\n                message: action.text,\n                fromMe: true,\n            };\n\n            return {\n                ...state,\n                messages: [...state.messages, newMessage],\n            };\n        }\n        case DELETE_MESSAGE:\n            return {\n                ...state,\n                messages: state.messages.filter(message => message.id !== action.id)\n            }\n        default:\n            return state;\n    }\n};\n\nexport const sendMessage = text => ({ type: sendMessageType, text });\nexport const deleteMessage = messageId => ({type: DELETE_MESSAGE, id: messageId});\n\nexport default dialogsReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"picture\":\"User_picture__6sC9a\",\"user\":\"User_user__2lN3d\",\"followButton\":\"User_followButton__3LpcV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"users\":\"Users_users__3tzOu\"};","import * as axios from 'axios';\n\nconst instance = axios.create({\n    withCredentials: true,\n    headers: {\n        'API-KEY': '2fd5b602-294c-435c-82ff-14577d02fb67'\n    },\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/'\n});\n\nexport const usersAPI = {\n    getUsers(usersPerPage = 4, page = 1) {\n        return instance.get(`users?count=${usersPerPage}&page=${page}`)\n                        .then(response => response.data);\n    }\n};\n\nexport const profileAPI = {\n    getProfile(userId) {\n        return instance.get(`profile/${userId}`)\n                        .then(response => response.data);\n    },\n\n    getStatus(userId) {\n        return instance.get(`profile/status/${userId}`)\n                        .then(response => response.data);\n    },\n\n    updateStatus(status) {\n        return instance.put(`profile/status`, { status })\n                        .then(response => response.data);\n    },\n    updatePhoto(file) {\n        const data = new FormData();\n        data.append('image', file);\n        return instance.put('profile/photo', data, {\n            headers: {\n                'Content-type': 'multipart/form-data'\n            }\n        });\n    },\n    updateProfile(profile) {\n        return instance.put('profile', profile)\n                        .then(response => response.data);\n    }   \n};\n\nexport const authAPI = {\n    authorize() {\n        return instance.get('auth/me')\n                        .then(response => response.data);\n    },\n\n    getProfile(id) {\n        console.warn('Outdated method. Please use profileAPI');\n        return profileAPI.getProfile(id);\n    },\n\n    login(email, password, rememberMe, captcha) {\n        return instance.post('auth/login', {email, password, rememberMe, captcha})\n                        .then(response => response.data);\n    },\n\n    logout() {\n        return instance.delete('auth/login')\n                        .then(response => response.data);\n    }\n};\n\nexport const followAPI = {\n    unfollow(id) {\n        return instance.delete(`follow/${id}`)\n                        .then(response => response.data);\n    },\n    \n    follow(id) {\n        return instance.post(`follow/${id}`, {})\n                        .then(response => response.data);\n    }\n};\n\nexport const securityAPI = {\n    getCaptchaUrl() {\n        return instance.get('security/get-captcha-url')\n                        .then(response => response.data);\n    }\n};"],"sourceRoot":""}