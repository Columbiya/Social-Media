(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[4],{112:function(e,s,t){e.exports={dialogs:"Dialogs_dialogs__1XsCb",dialog:"Dialogs_dialog__2rtrS",active:"Dialogs_active__2-vgw",dialogsItems:"Dialogs_dialogsItems__11DEe",dialogPicture:"Dialogs_dialogPicture__2K2Xy",sticky:"Dialogs_sticky__2GNnH",wrapper:"Dialogs_wrapper__2hgZX",message:"Dialogs_message__140US",picture:"Dialogs_picture__3I4tq",text:"Dialogs_text__riCsQ",textRight:"Dialogs_textRight__1grCs",right:"Dialogs_right__2RtI3",typeMessage:"Dialogs_typeMessage__2h9vJ",comment:"Dialogs_comment__1ZIfF"}},118:function(e,s,t){"use strict";t.r(s);var a=t(1),i=t(112),c=t.n(i),r=t(22),o=t(37),n=function(e){return Object(a.jsxs)(r.b,{className:c.a.dialog,activeClassName:c.a.active,to:"/dialogs/"+e.id,children:[Object(a.jsx)("img",{src:o.a,className:c.a.dialogPicture,alt:"user"}),e.name]})},l=t(10),g=function(e){return Object(a.jsx)("img",{src:e.fromMe?e.profilePhoto:o.a,className:c.a.picture,alt:"user"})},m=t(11),j=t.n(m),u=function(e){return e.fromMe?Object(a.jsxs)("div",{className:j()(c.a.message,Object(l.a)({},c.a.right,!e.fromMe)),children:[Object(a.jsx)(g,{fromMe:e.fromMe,profilePhoto:e.profilePhoto}),Object(a.jsx)("div",{className:j()(c.a.text,Object(l.a)({},c.a.textRight,!e.fromMe)),children:e.message})]}):Object(a.jsxs)("div",{className:c.a.message+" "+c.a.right,children:[Object(a.jsx)(g,{fromMe:e.fromMe}),Object(a.jsx)("div",{className:c.a.text+" "+c.a.textRight,children:e.message})]})},d=t(2),b=t(38),f=t(17),_=t(27),h=Object(_.b)(15),x=Object(f.c)("textarea"),O=function(e){return Object(a.jsx)(b.b,{onSubmit:function(s){e.sendMessage(s.newMessageText)},children:function(e){return Object(a.jsxs)("form",{className:c.a.typeMessage,onSubmit:function(s){return function(e,s,t){s(e),t.reset()}(s,e.handleSubmit,e.form)},children:[Object(a.jsx)(b.a,{component:x,name:"newMessageText",className:"comment",validate:Object(_.a)(_.c,h),placeholder:"Type your message here.."}),Object(a.jsx)(f.a,{text:"Send"})]})}})},p=function(e){var s=e.messages.map((function(s){return Object(a.jsx)(u,{message:s.message,fromMe:s.fromMe,profilePhoto:e.profilePhoto},s.id)})),t=e.dialogs.map((function(e){return Object(a.jsx)(n,{id:e.id,name:e.name},e.id)})),i=Object(d.useRef)(null);return Object(d.useEffect)((function(){i.current.scrollTop=i.current.scrollHeight}),[s,i]),Object(a.jsxs)("div",{className:c.a.dialogs,children:[Object(a.jsx)("div",{className:c.a.dialogsItems,children:t}),Object(a.jsx)("div",{className:c.a.messages,children:Object(a.jsxs)("div",{className:c.a.sticky,children:[Object(a.jsx)("div",{className:c.a.wrapper,ref:i,children:s}),Object(a.jsx)(O,{sendMessage:e.sendMessage})]})})]})},v=t(64),M=t(16),N=t(19),D=t(3),y=t(6),P=t(13),w=function(e){return{isAuthorized:Object(P.c)(e)}};var I=function(e){return Object(M.b)(w)((function(s){return s.isAuthorized?Object(a.jsx)(e,Object(D.a)({},s)):Object(a.jsx)(y.a,{to:"/login"})}))},R=function(e){return e.messagesPage.messages},S=function(e){return e.messagesPage.dialogs};s.default=Object(N.d)(Object(M.b)((function(e){return{messages:R(e),dialogs:S(e),profilePhoto:Object(P.a)(e)}}),{sendMessage:v.b}),I)(p)}}]);
//# sourceMappingURL=4.6654c9bc.chunk.js.map